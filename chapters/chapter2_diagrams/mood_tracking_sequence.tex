\begin{tikzpicture}
\begin{sequencediagram}
    \newthread{p}{Patient}
    \newinst[1]{s}{System}
    \newinst[1]{t}{Therapist}
    
    \begin{call}{p}{Access Mood Tracker}{s}{Show Interface}
        \begin{callself}{s}{Load History}{}
        \end{callself}
    \end{call}
    
    \begin{call}{p}{Record Mood}{s}{Entry Saved}
        \begin{callself}{s}{Validate Entry}{}
        \end{callself}
        \begin{callself}{s}{Store Mood Data}{}
        \end{callself}
        \begin{callself}{s}{Analyze Patterns}{}
        \end{callself}
    \end{call}

    \begin{sdblock}{If Significant Change}{Pattern Detected}
        \begin{call}{s}{Alert Therapist}{t}{Alert Delivered}
        \end{call}
    \end{sdblock}
    
    \begin{call}{t}{View Mood Data}{s}{Data Displayed}
        \begin{callself}{s}{Generate Analytics}{}
        \end{callself}
    \end{call}
    
    \begin{call}{p}{View History}{s}{Show Trends}
        \begin{callself}{s}{Process Statistics}{}
        \end{callself}
    \end{call}
\end{sequencediagram}
\end{tikzpicture}